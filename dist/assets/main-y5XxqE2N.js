import"./constants-CygYw0oH.js";import"./main-yHmyNSKw.js";import{r as u}from"./read-BoFMuMSX.js";const c=24;let d="",s=[],l=0,m=!1;async function a(n=1,i=""){try{const t=await u(c,n),e=t.listings||[],o=t.meta||{};l=o.currentPage||1,m=o.isLastPage||!1,n===1?s=e:s=[...s,...e],g(s);const r=document.getElementById("loadMore");e.length<c?r.style.display="none":r.style.display="block"}catch(t){console.error("Error displaying listings:",t),g([])}}async function g(n){console.log("listings to display:",n);const i=document.querySelector(".listings-container");if(i.innerHTML="",n.length===0){i.innerHTML="<p>No listings found.</p>";return}n.forEach(t=>{const e=document.createElement("li");e.classList.add("li-single-listing"),e.setAttribute("data-id",t.id),e.innerHTML=`
            <div class="li-single-listing-content">
                <img src="${t.media?.[0]?.url||"https://t3.ftcdn.net/jpg/05/88/70/78/360_F_588707867_pjpsqF5zUNMV1I2g8a3tQAYqinAxFkQp.jpg"}" alt="${t.media?.[0]?.alt||"No image"}">
                <span>${t.title}</span>
            </div>
        `,i.appendChild(e)}),document.querySelectorAll(".li-single-listing").forEach(t=>{t.addEventListener("click",()=>{const e=t.getAttribute("data-id");localStorage.setItem("listingId",e),window.location.href="../../../../single-listing/index.html"})})}document.getElementById("searchInput").addEventListener("input",async n=>{d=n.target.value,l=1,await a(currentOffset,d)});document.getElementById("loadMore").addEventListener("click",async()=>{m||await a(l+1)});document.getElementById("loginBtn").addEventListener("click",()=>{window.location="auth/login/index.html"});document.getElementById("registerBnt").addEventListener("click",()=>{window.location="auth/register/index.html"});a(1);
