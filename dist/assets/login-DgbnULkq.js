import{a as s,b as c}from"./constants-C6fMtq7-.js";async function i({email:t,password:o}){try{const e=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json","X-Noroff-API-Key":c},body:JSON.stringify({email:t,password:o})});if(!e.ok)throw new Error("Invalid credentials");return await e.json()}catch(e){throw e}}async function l(t){t.preventDefault();const o=document.getElementById("email").value,e=document.getElementById("password").value;try{const a=await i({email:o,password:e});if(a.data&&a.data.accessToken){const n=a.data.accessToken,r=a.data.name;localStorage.setItem("accessToken",n),localStorage.setItem("loggedInUsername",r),window.location.href="../../../../index.html"}else alert("Invalid email or password. Please try again.")}catch{alert("An error occurred. Please try again later.")}}const d=document.getElementById("login-form");d.addEventListener("submit",l);
