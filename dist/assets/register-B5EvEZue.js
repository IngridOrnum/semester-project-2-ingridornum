import{c,d as i}from"./constants-C6fMtq7-.js";async function d({name:a,email:r,password:o}){try{const t=await fetch(c,{method:"POST",headers:{"Content-Type":"application/json","X-Noroff-API-Key":i},body:JSON.stringify({name:a,email:r,password:o})}),e=await t.json();if(console.log("API Response:",t.status,e),!t.ok)throw new Error(e.message||"Registration failed");return e}catch(t){throw new Error("Error during registration: "+t.message)}}async function l(a){a.preventDefault();const r=document.getElementById("username").value,o=document.getElementById("email").value,t=document.getElementById("password").value;try{const e=await d({username:r,email:o,password:t});if(e.data&&e.data.accessToken){const s=e.data.accessToken,n=e.data.name;localStorage.setItem("accessToken",s),localStorage.setItem("loggedInUsername",n),window.location.href="../../../../index.html"}else alert("Invalid email or password. Please try again.")}catch{alert("An error occurred. Please try again later.")}}const m=document.getElementById("register-form");m.addEventListener("submit",l);
