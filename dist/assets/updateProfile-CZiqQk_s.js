import{c as l,d as c}from"./input-3MpwG_SX.js";import{g as u,r as p}from"./main-BVhcVta1.js";import{d as f}from"./profile-Cw0rUm-i.js";/* empty css               */import"./listings-B-nIuWtN.js";async function m(o,e){const r=await u(),a={method:"PUT",headers:{"X-Noroff-API-Key":l,Authorization:`Bearer ${r}`,"Content-Type":"application/json"},body:JSON.stringify(e)},t=await fetch(`${c}/${o}`,a);if(!t.ok)throw console.error("Failed to update profile data:",t),new Error(`Error updating profile data: ${t.status}`);return await t.json()}async function g(){const o=localStorage.getItem("loggedInUsername"),e=await p(o),r=document.getElementById("update-profile-form"),a=document.getElementById("bio"),t=document.getElementById("avatar"),n=document.getElementById("banner-url");a&&(a.value=e.data.bio||""),t&&(t.value=e.data.avatar?.url||""),n&&(n.value=e.data.banner?.url||""),r&&r.addEventListener("submit",async s=>{s.preventDefault();const d={bio:a.value,avatar:{url:t.value},banner:{url:n.value}};try{const i=await m(o,d);alert("Profile updated successfully!"),await f()}catch(i){console.error("Error updating profile:",i)}})}g();
